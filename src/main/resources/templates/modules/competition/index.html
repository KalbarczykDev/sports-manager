<div class="container my-5" th:fragment="content">
    <!--/*@thymesVar id="sortBy" type="java.lang.String"*/-->
    <!--/*@thymesVar id="sortDir" type="java.lang.String"*/-->
    <!--/*@thymesVar id="competitions" type="java.util.List<dev.kalbarczyk.sportsmanager.competition.model.Competition>"*/-->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Competitions</h1>
        <a class="btn btn-primary add-button" th:href="@{/competitions/new}">
            <i class="bi bi-trophy-fill"></i> Add Competition
        </a>
    </div>

    <div>
        <div class="table-responsive">
            <table class="table table-striped table-hover align-middle">
                <thead class="table-primary">
                <tr>
                    <th>
                        <a th:href="@{/competitions(sortBy='name', sortDir=${sortBy == 'name' and sortDir == 'asc' ? 'desc' : 'asc'})}">
                            Name
                            <span th:if="${sortBy == 'name'}" th:text="${sortDir == 'asc' ? '▲' : '▼'}"></span>
                        </a>
                    </th>

                    <th>
                        <a th:href="@{/competitions(sortBy='discipline', sortDir=${sortBy == 'discipline' and sortDir == 'asc' ? 'desc' : 'asc'})}">
                            Discipline
                            <span th:if="${sortBy == 'discipline'}" th:text="${sortDir == 'asc' ? '▲' : '▼'}"></span>
                        </a>
                    </th>

                    <th>
                        <a th:href="@{/competitions(sortBy='date', sortDir=${sortBy == 'date' and sortDir == 'asc' ? 'desc' : 'asc'})}">
                            Date
                            <span th:if="${sortBy == 'date'}" th:text="${sortDir == 'asc' ? '▲' : '▼'}"></span>
                        </a>
                    </th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="competition : ${competitions}">
                    <td th:text="${competition.name}">Competition Name</td>
                    <td th:text="${competition.discipline.label}">Discipline</td>
                    <td th:text="${#temporals.format(competition.date, 'EEEE, dd MMM yyyy')}">Date</td>
                    <td>
                        <button class="btn btn-danger btn-sm me-1 delete-button"
                                th:attr="data-id=${competition.id}, data-entity='competitions'"
                                type="button">
                            <i class="bi bi-trash3"></i>
                        </button>
                        <a class="btn btn-secondary btn-sm me-1"
                           th:href="@{/competitions/{id}/edit(id=${competition.id})}">
                            <i class="bi bi-pencil-square"></i>
                        </a>

                        <a class="btn btn-info btn-sm text-white"
                           th:href="@{/competitions/{id}(id=${competition.id})}">
                            <i class="bi bi-info-square"></i>
                        </a>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(competitions)}">
                    <td colspan="5" class="text-center">No competitions found.</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!--/*@thymesVar id="currentPage" type="java.lang.Integer"*/-->
        <!--/*@thymesVar id="totalPages" type="java.lang.Integer"*/-->
        <div th:replace="~{fragments/list-pagination :: pagination(
            ${currentPage}, ${totalPages}, ${sortBy}, ${sortDir},'/competitions')}">
        </div>
    </div>
</div>


